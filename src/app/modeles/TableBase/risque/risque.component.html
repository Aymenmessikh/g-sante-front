<div class="content-block">
  <div class="page dx-card responsive-paddings">
    <div style="display: flex;justify-content: space-between;margin-top: -30px">
      <h4 class="content-block">Risques</h4>
      <dx-button style="margin-top: 25px" type="default" text="Ajouter Nouveau Risque" routerLink="/ajouterRisque"></dx-button>
    </div>
    <div style="display: flex;justify-content: center">
      <div style="width: 1300px">
        <dx-data-grid class="dx-card wide-card"
                      [dataSource]="risquess"
                      [showBorders]="false"
                      [focusedRowEnabled]="true"
                      [focusedRowIndex]="0"
                      [columnAutoWidth]="true"
                      [columnHidingEnabled]="true"
                      keyExpr="id">

          <dxo-paging [pageSize]="7"></dxo-paging>
          <dxo-pager [showPageSizeSelector]="true" [showInfo]="true"></dxo-pager>
          <dxo-filter-row [visible]="true"></dxo-filter-row>

          <dxi-column
            dataField="risque"
            caption="Risque"
            [width]="280"
            [hidingPriority]="2">
          </dxi-column>
          <dxi-column
            dataField="description"
            caption="Description"
            [hidingPriority]="2">
          </dxi-column>
          <dxi-column caption="Suprimmer" [width]="150" cellTemplate="suprimmer"></dxi-column>
          <div *dxTemplate="let data of 'suprimmer'" style="display: flex;justify-content: space-between">
            <div>
              <dx-button icon="description" (click)="changeDettaileRisque(data)" class="btn"  cellTemplate="suprimmer">
              </dx-button>
            </div>
            <div>
              <dx-button icon="edit" class="btn" (click)="changeModifierRisque(data)" cellTemplate="suprimmer">
              </dx-button>
            </div>
            <div>
              <dx-button cellTemplate="suprimmer"
                         icon="trash"
                         hint="Supprimer"
                         (click)="delete(data)">
              </dx-button>
            </div>
          </div>
        </dx-data-grid>
      </div>
    </div>

  </div>
</div>
<dx-popup
  [width]="500"
  [height]="300"
  [dragEnabled]="false"
  [showCloseButton]="true"
  [(visible)]="popupVisible"
>
  <div>
    <p class="content-block" style="display: flex;justify-content: center;font-size: 18px">
      Are you sure you want to delete this Risque?
    </p>
  </div>
  <div style="display: flex;justify-content: space-around;margin-top: 80px">
    <dxi-toolbar-item>
      <dx-button text="YES" (click)="supimmer()"></dx-button>
    </dxi-toolbar-item>
    <dxi-toolbar-item>
      <dx-button text="NO" (click)="annuler()"></dx-button>
    </dxi-toolbar-item>
  </div>
</dx-popup>





<!--<dx-popup *ngIf="DettaileRisque"-->
<!--          [width]="800"-->
<!--          [height]="520"-->
<!--          [showTitle]="true"-->
<!--          title="Dettaile de Risque"-->
<!--          [dragEnabled]="false"-->
<!--          [showCloseButton]="true"-->
<!--          [(visible)]="DettaileRisque"-->
<!--&gt;-->
<!--  <form (submit)="Modifier($event)">-->
<!--    <dx-form  [formData]="modifierRisque">-->
<!--      <dxi-item dataField="risque" [editorOptions]="{ stylingMode: 'filled',value:getrisqueById.risque, placeholder: 'Risque', mode: '' }">-->
<!--        <dxi-validation-rule type="required" message="Risque is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--      <dxi-item dataField="description" [editorOptions]="{ stylingMode: 'filled' ,value:getrisqueById.description, placeholder: 'Description', mode: '' }">-->
<!--        <dxi-validation-rule type="required" message="Description is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--      <dxi-item dataField="Analyses" editorType="dxSelectBox">-->
<!--        <dx-drop-down-box-->
<!--          valueExpr="idAnalyse"-->
<!--          [dataSource]="analyse"-->
<!--          displayExpr="nomAnalyse"-->
<!--          [(value)]="risque.idAnalyse"-->
<!--          placeholder="Select a value..."-->
<!--          [showClearButton]="true"-->
<!--          [inputAttr]="{ 'aria-label': 'Owner' }">-->
<!--          <div *dxTemplate="let data of 'content'">-->
<!--            <dx-tree-view-->
<!--              dataStructure="plain"-->
<!--              keyExpr="idAnalyse"-->
<!--              [dataSource]="analyse"-->
<!--              selectionMode="multiple"-->
<!--              showCheckBoxesMode="normal"-->
<!--              [selectNodesRecursive]="true"-->
<!--              displayExpr="nomAnalyse"-->
<!--              [selectByClick]="true"-->
<!--              (onSelectionChanged)="onTreeViewSelectionChanged($event)">-->
<!--            </dx-tree-view>-->
<!--          </div>-->
<!--        </dx-drop-down-box>-->
<!--        <dxi-validation-rule type="required" message="Analyse is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--    </dx-form>-->
<!--  </form>-->

<!--</dx-popup>-->

<!--<dx-popup *ngIf="ModifierRisque"-->
<!--          [width]="800"-->
<!--          [height]="520"-->
<!--          [showTitle]="true"-->
<!--          title="Modifier Risque"-->
<!--          [dragEnabled]="false"-->
<!--          [showCloseButton]="true"-->
<!--          [(visible)]="ModifierRisque"-->
<!--&gt;-->
<!--  <form (submit)="Modifier($event)">-->
<!--    <dx-form  [formData]="risque">-->
<!--      <dxi-item dataField="risque" [editorOptions]="{ stylingMode: 'filled',value:getrisqueById.risque, placeholder: 'Risque', mode: '' }">-->
<!--        <dxi-validation-rule type="required" message="Risque is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--      <dxi-item dataField="description" [editorOptions]="{ stylingMode: 'filled' ,value:getrisqueById.description, placeholder: 'Description', mode: '' }">-->
<!--        <dxi-validation-rule type="required" message="Description is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--      <dxi-item dataField="Analyses" editorType="dxSelectBox">-->
<!--        <dx-drop-down-box-->
<!--          [dataSource]="analyse"-->
<!--          valueExpr="idAnalyse"-->
<!--          displayExpr="nomAnalyse"-->
<!--          [(value)]="risque.idControle"-->
<!--          placeholder="Select a value..."-->
<!--          [showClearButton]="true"-->
<!--          [inputAttr]="{ 'aria-label': 'Owner' }">-->
<!--          <div *dxTemplate="let data of 'content'">-->
<!--            <dx-tree-view-->
<!--              [dataSource]="analyse"-->
<!--              dataStructure="plain"-->
<!--              keyExpr="idAnalyse"-->
<!--              selectionMode="multiple"-->
<!--              showCheckBoxesMode="normal"-->
<!--              [selectNodesRecursive]="true"-->
<!--              displayExpr="nomAnalyse"-->
<!--              [selectByClick]="true"-->
<!--              (onSelectionChanged)="onTreeViewSelectionChanged($event)">-->
<!--            </dx-tree-view>-->
<!--          </div>-->
<!--        </dx-drop-down-box>-->
<!--        <dxi-validation-rule type="required" message="Analyse is required"></dxi-validation-rule>-->
<!--      </dxi-item>-->
<!--      <dxi-item-->
<!--        itemType="button"-->
<!--        [buttonOptions]="submitButtonOption">-->
<!--      </dxi-item>-->
<!--    </dx-form>-->
<!--  </form>-->

<!--</dx-popup>-->

